head
    title Bubl

body
    +home

template(name='home')
    #facetnav.ui.stackable.menu
        .ui.header.item Bubl
        .ui.item #{user_counter} users #{doc_counter} docs
        if currentUser
            .ui.item
                .ui.input
                    input.authorName(type=text placeholder='Search Twitter User')
        if currentUser
            // if hasReceivedTweets
            a.item.clear_my_docs
                i.remove.red.icon
                // |Delete My Tweets
            a.item.view_my_tweets(class=viewMyTweetsClass)
                i.user.icon
                |Mine
            // else
            a.item.get_tweets
                i.cloud.green.download.icon
                // |Get My Tweets
            a.item.generate_cloud
                |gen
        .ui.item
            +loginButtons
    // if $.Session.get 'author_filter'
    //     .ui.center.aligned.segment
    //         .ui.center.aligned.header Author
    //         .ui.blue.button.authorFilterButton
    //             |{{$.Session.get 'author_filter'}}
    .ui.center.aligned.segment.container.globalcloud
        .ui.center.aligned.header Tags
        if selected_tags
            #clear_tags.ui.circular.grey.icon.button
                i.remove.icon
        each selected_tags
            .unselect_tag.ui.large.compact.grey.button
                i.minus.icon
                |#{this}
        each global_tags
            .select_tag.ui.compact.button(class=cloud_tag_class)
                |#{this.text}
                small #{this.count}
        .ui.center.aligned.header Authors
        if selected_usernames
            #clear_usernames.ui.circular.grey.icon.button
                i.remove.icon
        each selected_usernames
            .unselect_username.ui.large.compact.grey.button
                i.minus.icon
                |#{this}
        each global_usernames
            .select_username.ui.large.compact.button
                i.user.icon
                |#{this.text}
                small #{this.count}
    .ui.container
        +top_10
        .ui.centered.aligned.cards
            each docs
                .ui.card
                    +view
    

template(name='view')
    .content
        .ui.header
            +markdown
                #{body}
    .content
        strong Tags:
        each tags
            .doc_tag.ui.compact.button(class=doc_tag_class)
                div #{this}
    // div Yaki Tags
    //     each yaki_tags
    //         .ui.label #{this}
    // div Alchemy Tags
    //     each alchemy_tags
    //         .ui.label #{this}
    .content
        div Imported #{when}
        div Tweeted at #{tweet_created_when}
        if entities.hashtags.length
            div Hashtags
                each entities.hashtags
                    .ui.label ##{text}
        if entities.user_mentions.length
            div User mentions
                each entities.user_mentions
                    .ui.label @#{screen_name}
        div
            if is_author
                .ui.icon.button.delete_tweet
                    i.remove.red.icon
            .ui.button.tweetViewAuthorButton(class=authorButtonClass) Author: #{username}

// template(name='bubbleChart')
//     .bubbleChart